<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="config.mybatis.mapper.oracle.scholarship">
	<select id="selectAllScholarship" resultType="ScholarshipAllVO">
		select * from scholarshipView
		where stu_no=#{officicalNo}
	</select>
	
	<select id="selectByNo" parameterType="int" resultType="ScholarshipAllVO">
		select * from scholarshipView 
		where no=#{no} 
	</select>
	
	<insert id="insertscholarship" parameterType="ScholarshipAllVO">
		insert into scholarshipView()  
		
	</insert>

	<update id="updatescholarship" parameterType="ScholarshipAllVO">
		update scholarshipView
		set 
		where stu_no=#{officicalNo}
	</update>
	
	<delete id="deleteScholarship" parameterType="ScholarshipAllVO">
		delete from scholarshsipView
		where stu_no=#{officicalNo}
	</delete>
	
	
	
	<select parameterType="searchVo" id="selectAll" resultType="ScholarshipAllVO">
		select *from(
			select rownum as RNUM, A.*from(
				select * form scholarshipView 
		<if test="searchKeyword!=null and searchKeyword !=''">
		where ${searchCondition} like '%'|| #{searchKeyword} || '%' </if>
		order by no desc)A) 
		-<![CDATA[ 
				where RNUM>#{firstRecordIndex}
				and RNUM<=#{firstRecordIndex }+ #{recordCountPerPage}]]>
	</select>

	<select parameterType="searchVo" id="selectTotalRecord" resultType="int">
		select count(*) from scholarshipView 
		<if test="searchKeyword!=null and searchKeyword !=''">
		where ${searchCondition} like '%'|| #{searchKeyword} || '%' </if>
	</select>
</mapper>